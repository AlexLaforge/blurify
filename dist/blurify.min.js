!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("blurify",e):t.blurify=e()}(this,function(){"use strict";function t(t){function e(){i++,i==t.length&&r(n)}var n=[],i=0,r=function(){};return t="object"!=(void 0===t?"undefined":o(t))?[t]:t,t.map(function(t,o){n[o]=new Image,n[o].crossOrigin="*",n[o].src=t.dataset?t.dataset.src:t.getAttribute("data-src"),n[o].onload=function(){e()},n[o].onerror=function(){e()}}),{done:function(t){r=t||r}}}function e(){var t=document.createElement("div"),e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1];return 1===arguments.length?e in t.style:2===arguments.length&&(t.style[e]=n,!!t.style[e])}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();return function(){function o(t){n(this,o),this.options=t,this.blur=t.blur||6,this.mode=t.mode||"css",this.$els=1===t.images.nodeType?[t.images]:[].slice.call(t.images),"auto"==this.mode?e("filter","blur(1px)")?this.useCSSMode():this.useCanvasMode():"css"==this.mode?this.useCSSMode():this.useCanvasMode()}return i(o,[{key:"useCSSMode",value:function(){var t=this;this.$els.map(function(e){e.src=e.dataset?e.dataset.src:e.getAttribute("data-src"),e.style.filter=e.style["-webkit-filter"]="blur("+t.options.blur+"px)"})}},{key:"useCanvasMode",value:function(){var e=this;this.imageType=this.options.imageType||"image/jpeg",t(this.$els).done(function(t){t.map(function(t,n){e.$els[n].src=e.getDataURL(t)})})}},{key:"blurify",value:function(t,e){var n=t.getContext("2d");n.globalAlpha=1/(2*e);for(var o=-e;o<=e;o+=2)for(var i=-e;i<=e;i+=2)n.drawImage(t,i,o),i>=0&&o>=0&&n.drawImage(t,-(i-1),-(o-1));n.globalAlpha=1}},{key:"getDataURL",value:function(t){var e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),this.blurify(e,this.blur),e.toDataURL(this.imageType)}}]),o}()});
//# sourceMappingURL=blurify.min.js.map
